{% extends "base.html" %}
{# Load the tag library #}
{% load static %}
{% load django_bootstrap5 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript %}

{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}

{% block title %}TODO{% endblock title %}
{% block content %}
     <div class="container">
          <div class="row my-2">
               <h1>TODO LIST</h1>
          </div>
          

          <!--Add Task Form-->
          <div class="row mb-3" >
               <div class="col">
                    <form method="POST" class="form">
                         {% csrf_token %}
                         <div class="input-group align-items-start ">
                              
                              {% for field in form %}
                              <div class="flex-grow-1">
                                   {% bootstrap_field field show_label=False wrapper_class="col" addon_after_class="None"  %}
                              </div>
                              <div class="ms-2">
                                   {% bootstrap_button "Add" button_type="submit" button_class="btn-primary" %}
                              </div>
                              {% endfor %}
                         </div>
                    </form>
               </div>
          </div>
          
          <!--Task List-->
          <div class="row">
               <div class="col">
                    {% for i in list %}
                         <div class="card my-3">
                              <div class="card-body input-group">
                                   
                                   <div class="flex-grow-1 detail">
                                        <span class="small">{{i.create_date}}</span>
                                   
                                        <p class="">{{i.task}}</p>
                                   </div>
                                   <div class="ms-2">
                                        <form action="/del/{{i.id}}" method="POST" class="form">
                                             {% csrf_token %}
     
                                             <button value="remove" type="submit" class="btn btn-danger float-end" >remove</button>
                                        </form>
                                   </div>
                                   
                              </div>
                         </div>
                    {% endfor%}
               </div>
               
               
          </div>
     </div>
{% endblock content %}
